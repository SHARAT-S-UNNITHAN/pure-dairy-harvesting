{% extends "base.html" %}

{% block content %}
<div class="profile-container">
    <h2>User Profile</h2>
    
    <div class="profile-info">
        <div class="profile-field">
            <label>Username:</label>
            <span>{{ user.username }}</span>
        </div>
        
        <div class="profile-field">
            <label>Email:</label>
            <span>{{ user.email }}</span>
        </div>
        
        <div class="profile-field">
            <label>Role:</label>
            <span>{{ user.role|capitalize }}</span>
        </div>
        
        <!-- Safely handle the created_at field with a conditional check -->
        {% if user.created_at %}
        <div class="profile-field">
            <label>Member since:</label>
            <span>{{ user.created_at.strftime('%B %d, %Y') }}</span>
        </div>
        {% elif user.registration_date %}
        <div class="profile-field">
            <label>Member since:</label>
            <span>{{ user.registration_date.strftime('%B %d, %Y') }}</span>
        </div>
        {% elif user.date_joined %}
        <div class="profile-field">
            <label>Member since:</label>
            <span>{{ user.date_joined.strftime('%B %d, %Y') }}</span>
        </div>
        {% else %}
        <div class="profile-field">
            <label>Member since:</label>
            <span>Date not available</span>
        </div>
        {% endif %}
    </div>
    
    <div class="profile-actions">
        <a href="{{ url_for('edit_profile') }}" class="btn btn-primary">Edit Profile</a>
        <a href="{{ url_for('change_password') }}" class="btn btn-secondary">Change Password</a>
    </div>
</div>

<style>
    .profile-container {
        max-width: 600px;
        margin: 0 auto;
    }
    
    .profile-container h2 {
        text-align: center;
        color: #2c7da0;
        margin-bottom: 30px;
    }
    
    .profile-info {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
    }
    
    .profile-field {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #dee2e6;
    }
    
    .profile-field:last-child {
        border-bottom: none;
    }
    
    .profile-field label {
        font-weight: 600;
        color: #495057;
    }
    
    .profile-field span {
        color: #6c757d;
    }
    
    .profile-actions {
        display: flex;
        justify-content: center;
        gap: 15px;
    }
    
    .btn {
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s;
    }
    
    .btn-primary {
        background-color: #2c7da0;
        color: white;
    }
    
    .btn-primary:hover {
        background-color: #1a5c7a;
    }
    
    .btn-secondary {
        background-color: #6c757d;
        color: white;
    }
    
    .btn-secondary:hover {
        background-color: #5a6268;
    }
</style>
{% endblock %}